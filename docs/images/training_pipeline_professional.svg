<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="380" viewBox="0 0 1200 380" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1200" height="380" fill="#ffffff"/>
  
  <!-- Title -->
  <text x="600" y="25" text-anchor="middle" font-family="Times, serif" font-size="18" font-weight="bold" fill="#000000">Qianfan-VL's Domain Enhanced Training Pipeline</text>
  
  <!-- Arrows Definition -->
  <defs>
    <marker id="arrow" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#000000"/>
    </marker>
    <marker id="bigArrow" markerWidth="12" markerHeight="8" refX="12" refY="4" orient="auto">
      <polygon points="0 0, 12 4, 0 8" fill="#0066cc"/>
    </marker>
  </defs>
  
  <!-- Stage 1: Cross-modal Alignment -->
  <g id="stage1">
    <!-- Stage Title -->
    <text x="150" y="60" text-anchor="middle" font-family="Times, serif" font-size="12" font-weight="bold" fill="#000000">Stage 1: Cross-modal Alignment</text>
    <text x="150" y="75" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#666666">100B tokens â€¢ Adapter Training</text>
    
    <!-- Output -->
    <rect x="100" y="90" width="100" height="30" fill="#ffffff" stroke="#000000" stroke-width="1"/>
    <text x="150" y="108" text-anchor="middle" font-family="Times, serif" font-size="10" fill="#000000">Output</text>
    
    <!-- Qianfan-LLM (Frozen) -->
    <rect x="75" y="130" width="150" height="35" fill="#e6e6e6" stroke="#000000" stroke-width="1"/>
    <text x="150" y="148" text-anchor="middle" font-family="Times, serif" font-size="10" font-weight="bold" fill="#666666">Qianfan-LLM</text>
    <text x="150" y="160" text-anchor="middle" font-family="Times, serif" font-size="8" fill="#999999">â„ Frozen Parameters</text>
    
    <!-- MLP Adapter (Trainable) -->
    <rect x="100" y="175" width="100" height="30" fill="#cce7ff" stroke="#000000" stroke-width="1"/>
    <text x="150" y="192" text-anchor="middle" font-family="Times, serif" font-size="10" font-weight="bold" fill="#000000">MLP Adapter</text>
    <text x="150" y="203" text-anchor="middle" font-family="Times, serif" font-size="8" fill="#0066cc">ğŸ”¥</text>
    
    <!-- Vision Encoder (Frozen) -->
    <rect x="75" y="215" width="150" height="35" fill="#e6e6e6" stroke="#000000" stroke-width="1"/>
    <text x="150" y="233" text-anchor="middle" font-family="Times, serif" font-size="10" font-weight="bold" fill="#666666">Vision Encoder</text>
    <text x="150" y="245" text-anchor="middle" font-family="Times, serif" font-size="8" fill="#999999">â„ Frozen Parameters</text>
    
    <!-- Visual Input -->
    <rect x="50" y="260" width="80" height="30" fill="#ffffff" stroke="#000000" stroke-width="1"/>
    <text x="90" y="278" text-anchor="middle" font-family="Times, serif" font-size="10" fill="#000000">Visual Input</text>
    
    <!-- Text Input -->
    <rect x="170" y="260" width="80" height="30" fill="#ffffff" stroke="#000000" stroke-width="1"/>
    <text x="210" y="278" text-anchor="middle" font-family="Times, serif" font-size="10" fill="#000000">Text Input</text>
    
    <!-- Data Source for Stage 1 -->
    <rect x="75" y="300" width="150" height="20" fill="#f0f8ff" stroke="#000000" stroke-width="1"/>
    <text x="150" y="312" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#000000">General Knowledge Data</text>
    
    <!-- Arrows -->
    <path d="M 90 260 L 90 250" stroke="#000000" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
    <path d="M 150 175 L 150 165" stroke="#000000" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
    <path d="M 150 215 L 150 205" stroke="#000000" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
    <path d="M 150 130 L 150 120" stroke="#000000" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
    <path d="M 210 260 L 210 165" stroke="#000000" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  </g>
  
  <!-- Stage 2: Knowledge Injection -->
  <g id="stage2">
    <!-- Stage Title -->
    <text x="450" y="60" text-anchor="middle" font-family="Times, serif" font-size="12" font-weight="bold" fill="#000000">Stage 2: General Knowledge Injection</text>
    <text x="450" y="75" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#666666">3.5T tokens â€¢ Full Parameters</text>
    
    <!-- Output -->
    <rect x="400" y="90" width="100" height="30" fill="#ffffff" stroke="#000000" stroke-width="1"/>
    <text x="450" y="108" text-anchor="middle" font-family="Times, serif" font-size="10" fill="#000000">Output</text>
    
    <!-- Qianfan-LLM (Trainable) -->
    <rect x="375" y="130" width="150" height="35" fill="#cce7ff" stroke="#000000" stroke-width="1"/>
    <text x="450" y="148" text-anchor="middle" font-family="Times, serif" font-size="10" font-weight="bold" fill="#000000">Qianfan-LLM</text>
    <text x="450" y="160" text-anchor="middle" font-family="Times, serif" font-size="8" fill="#0066cc">ğŸ”¥</text>
    
    <!-- MLP Adapter (Trainable) -->
    <rect x="400" y="175" width="100" height="30" fill="#cce7ff" stroke="#000000" stroke-width="1"/>
    <text x="450" y="192" text-anchor="middle" font-family="Times, serif" font-size="10" font-weight="bold" fill="#000000">MLP Adapter</text>
    <text x="450" y="203" text-anchor="middle" font-family="Times, serif" font-size="8" fill="#0066cc">ğŸ”¥</text>
    
    <!-- Vision Encoder (Trainable) -->
    <rect x="375" y="215" width="150" height="35" fill="#cce7ff" stroke="#000000" stroke-width="1"/>
    <text x="450" y="233" text-anchor="middle" font-family="Times, serif" font-size="10" font-weight="bold" fill="#000000">Vision Encoder</text>
    <text x="450" y="245" text-anchor="middle" font-family="Times, serif" font-size="8" fill="#0066cc">ğŸ”¥</text>
    
    <!-- Visual Input -->
    <rect x="350" y="260" width="80" height="30" fill="#ffffff" stroke="#000000" stroke-width="1"/>
    <text x="390" y="278" text-anchor="middle" font-family="Times, serif" font-size="10" fill="#000000">Visual Input</text>
    
    <!-- Text Input -->
    <rect x="470" y="260" width="80" height="30" fill="#ffffff" stroke="#000000" stroke-width="1"/>
    <text x="510" y="278" text-anchor="middle" font-family="Times, serif" font-size="10" fill="#000000">Text Input</text>
    
    <!-- Data Source -->
    <rect x="375" y="300" width="150" height="20" fill="#f0f8ff" stroke="#000000" stroke-width="1"/>
    <text x="450" y="312" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#000000">General Knowledge Data</text>
    
    <!-- Arrows -->
    <path d="M 390 260 L 390 250" stroke="#000000" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
    <path d="M 450 175 L 450 165" stroke="#000000" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
    <path d="M 450 215 L 450 205" stroke="#000000" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
    <path d="M 450 130 L 450 120" stroke="#000000" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
    <path d="M 510 260 L 510 165" stroke="#000000" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  </g>
  
  <!-- Stage 3: Domain Enhancement -->
  <g id="stage3">
    <!-- Stage Title -->
    <text x="750" y="60" text-anchor="middle" font-family="Times, serif" font-size="12" font-weight="bold" fill="#000000">Stage 3: Domain Enhanced Knowledge Injection</text>
    <text x="750" y="75" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#666666">300B tokens â€¢ Full Parameters</text>
    
    <!-- Output -->
    <rect x="700" y="90" width="100" height="30" fill="#ffffff" stroke="#000000" stroke-width="1"/>
    <text x="750" y="108" text-anchor="middle" font-family="Times, serif" font-size="10" fill="#000000">Output</text>
    
    <!-- Qianfan-LLM (Trainable) -->
    <rect x="675" y="130" width="150" height="35" fill="#cce7ff" stroke="#000000" stroke-width="1"/>
    <text x="750" y="148" text-anchor="middle" font-family="Times, serif" font-size="10" font-weight="bold" fill="#000000">Qianfan-LLM</text>
    <text x="750" y="160" text-anchor="middle" font-family="Times, serif" font-size="8" fill="#0066cc">ğŸ”¥</text>
    
    <!-- MLP Adapter (Trainable) -->
    <rect x="700" y="175" width="100" height="30" fill="#cce7ff" stroke="#000000" stroke-width="1"/>
    <text x="750" y="192" text-anchor="middle" font-family="Times, serif" font-size="10" font-weight="bold" fill="#000000">MLP Adapter</text>
    <text x="750" y="203" text-anchor="middle" font-family="Times, serif" font-size="8" fill="#0066cc">ğŸ”¥</text>
    
    <!-- Vision Encoder (Trainable) -->
    <rect x="675" y="215" width="150" height="35" fill="#cce7ff" stroke="#000000" stroke-width="1"/>
    <text x="750" y="233" text-anchor="middle" font-family="Times, serif" font-size="10" font-weight="bold" fill="#000000">Vision Encoder</text>
    <text x="750" y="245" text-anchor="middle" font-family="Times, serif" font-size="8" fill="#0066cc">ğŸ”¥</text>
    
    <!-- Visual Input -->
    <rect x="650" y="260" width="80" height="30" fill="#ffffff" stroke="#000000" stroke-width="1"/>
    <text x="690" y="278" text-anchor="middle" font-family="Times, serif" font-size="10" fill="#000000">Visual Input</text>
    
    <!-- Text Input -->
    <rect x="770" y="260" width="80" height="30" fill="#ffffff" stroke="#000000" stroke-width="1"/>
    <text x="810" y="278" text-anchor="middle" font-family="Times, serif" font-size="10" fill="#000000">Text Input</text>
    
    <!-- Data Sources -->
    <rect x="650" y="300" width="90" height="20" fill="#ffe6cc" stroke="#000000" stroke-width="1"/>
    <text x="695" y="312" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#000000">Domain Data</text>
    <rect x="750" y="300" width="90" height="20" fill="#f0f8ff" stroke="#000000" stroke-width="1"/>
    <text x="795" y="312" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#000000">General Sampled Data</text>
    
    <!-- Arrows -->
    <path d="M 690 260 L 690 250" stroke="#000000" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
    <path d="M 750 175 L 750 165" stroke="#000000" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
    <path d="M 750 215 L 750 205" stroke="#000000" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
    <path d="M 750 130 L 750 120" stroke="#000000" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
    <path d="M 810 260 L 810 165" stroke="#000000" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  </g>
  
  <!-- Stage 4: Post-training -->
  <g id="stage4">
    <!-- Stage Title -->
    <text x="1050" y="60" text-anchor="middle" font-family="Times, serif" font-size="12" font-weight="bold" fill="#000000">Stage 4: Post-training</text>
    <text x="1050" y="75" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#666666">1B tokens â€¢ Full Parameters</text>
    
    <!-- Output -->
    <rect x="1000" y="90" width="100" height="30" fill="#ffffff" stroke="#000000" stroke-width="1"/>
    <text x="1050" y="108" text-anchor="middle" font-family="Times, serif" font-size="10" fill="#000000">Output</text>
    
    <!-- Qianfan-LLM (Trainable) -->
    <rect x="975" y="130" width="150" height="35" fill="#cce7ff" stroke="#000000" stroke-width="1"/>
    <text x="1050" y="148" text-anchor="middle" font-family="Times, serif" font-size="10" font-weight="bold" fill="#000000">Qianfan-LLM</text>
    <text x="1050" y="160" text-anchor="middle" font-family="Times, serif" font-size="8" fill="#0066cc">ğŸ”¥</text>
    
    <!-- MLP Adapter (Trainable) -->
    <rect x="1000" y="175" width="100" height="30" fill="#cce7ff" stroke="#000000" stroke-width="1"/>
    <text x="1050" y="192" text-anchor="middle" font-family="Times, serif" font-size="10" font-weight="bold" fill="#000000">MLP Adapter</text>
    <text x="1050" y="203" text-anchor="middle" font-family="Times, serif" font-size="8" fill="#0066cc">ğŸ”¥</text>
    
    <!-- Vision Encoder (Trainable) -->
    <rect x="975" y="215" width="150" height="35" fill="#cce7ff" stroke="#000000" stroke-width="1"/>
    <text x="1050" y="233" text-anchor="middle" font-family="Times, serif" font-size="10" font-weight="bold" fill="#000000">Vision Encoder</text>
    <text x="1050" y="245" text-anchor="middle" font-family="Times, serif" font-size="8" fill="#0066cc">ğŸ”¥</text>
    
    <!-- Visual Input -->
    <rect x="950" y="260" width="80" height="30" fill="#ffffff" stroke="#000000" stroke-width="1"/>
    <text x="990" y="278" text-anchor="middle" font-family="Times, serif" font-size="10" fill="#000000">Visual Input</text>
    
    <!-- Text Input -->
    <rect x="1070" y="260" width="80" height="30" fill="#ffffff" stroke="#000000" stroke-width="1"/>
    <text x="1110" y="278" text-anchor="middle" font-family="Times, serif" font-size="10" fill="#000000">Text Input</text>
    
    <!-- Data Source -->
    <rect x="975" y="300" width="150" height="20" fill="#e6ffe6" stroke="#000000" stroke-width="1"/>
    <text x="1050" y="312" text-anchor="middle" font-family="Times, serif" font-size="9" fill="#000000">Instruction Tuning Data</text>
    
    <!-- Arrows -->
    <path d="M 990 260 L 990 250" stroke="#000000" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
    <path d="M 1050 175 L 1050 165" stroke="#000000" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
    <path d="M 1050 215 L 1050 205" stroke="#000000" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
    <path d="M 1050 130 L 1050 120" stroke="#000000" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
    <path d="M 1110 260 L 1110 165" stroke="#000000" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  </g>
  
  <!-- Stage Separators -->
  <line x1="300" y1="50" x2="300" y2="330" stroke="#cccccc" stroke-width="1" stroke-dasharray="3,3"/>
  <line x1="600" y1="50" x2="600" y2="330" stroke="#cccccc" stroke-width="1" stroke-dasharray="3,3"/>
  <line x1="900" y1="50" x2="900" y2="330" stroke="#cccccc" stroke-width="1" stroke-dasharray="3,3"/>
  
  <!-- Training Progress Arrow -->
  <path d="M 150 370 L 1050 370" stroke="#0066cc" stroke-width="3" fill="none" marker-end="url(#bigArrow)"/>
  <text x="600" y="365" text-anchor="middle" font-family="Times, serif" font-size="12" font-weight="bold" fill="#0066cc">Training Progression</text>
  
  
  <!-- Data Volume Indicators -->
  <g id="data-volumes">
    <rect x="75" y="330" width="150" height="15" fill="#f0f0f0" stroke="#000000" stroke-width="0.5"/>
    <text x="150" y="340" text-anchor="middle" font-family="Times, serif" font-size="8" fill="#000000">100B tokens</text>
    
    <rect x="375" y="330" width="150" height="15" fill="#f0f0f0" stroke="#000000" stroke-width="0.5"/>
    <text x="450" y="340" text-anchor="middle" font-family="Times, serif" font-size="8" fill="#000000">3.5T tokens</text>
    
    <rect x="675" y="330" width="150" height="15" fill="#f0f0f0" stroke="#000000" stroke-width="0.5"/>
    <text x="750" y="340" text-anchor="middle" font-family="Times, serif" font-size="8" fill="#000000">300B tokens</text>
    
    <rect x="975" y="330" width="150" height="15" fill="#f0f0f0" stroke="#000000" stroke-width="0.5"/>
    <text x="1050" y="340" text-anchor="middle" font-family="Times, serif" font-size="8" fill="#000000">1B tokens</text>
  </g>
  
</svg>